<!-- File: voter_analytics/templates/voter_detail.html -->
<!--  Name: Jed Belsany -->
<!-- BU email: belsanyj@bu.edu -->
<!-- Description: Template for displaying details for a single voter -->

{% extends 'voter_analytics/base.html' %}

{% block title %}{{ voter.first_name }} {{ voter.last_name }} - Voter Details{% endblock %}

{% block content %}
<div class="header">
    <h1>👤 Voter Details</h1>
    <p>Comprehensive information about the selected voter</p>
</div>

<div class="nav-links">
    <a href="{% url 'voter_analytics:voters' %}">← Back to Voter List</a>
    <a href="{% url 'voter_analytics:graphs' %}">📈 Graphs</a>
</div>

<div class="content-card">
    <h1 style="color: #667eea; margin-bottom: 30px;">{{ voter.first_name }} {{ voter.last_name }}</h1>
    
    <div class="detail-section">
        <h2>📋 Personal Information</h2>
        <div class="info-grid">
            <div class="info-label">First Name:</div>
            <div class="info-value">{{ voter.first_name }}</div>
            
            <div class="info-label">Last Name:</div>
            <div class="info-value">{{ voter.last_name }}</div>
            
            <div class="info-label">Date of Birth:</div>
            <div class="info-value">{{ voter.date_of_birth|date:"F d, Y" }}</div>
        </div>
    </div>
    
    <div class="detail-section">
        <h2>🏠 Address Information</h2>
        <div class="info-grid">
            <div class="info-label">Street Address:</div>
            <div class="info-value">
                {{ voter.street_number }} {{ voter.street_name }}
                {% if voter.apartment_number %}
                    <br>Apartment {{ voter.apartment_number }}
                {% endif %}
            </div>
            
            <div class="info-label">City, State ZIP:</div>
            <div class="info-value">Newton, MA {{ voter.zip_code }}</div>
        </div>
        <a href="{{ google_maps_url }}" target="_blank" class="map-link">📍 View on Google Maps</a>
    </div>
    
    <div class="detail-section">
        <h2>🗳️ Voter Registration</h2>
        <div class="info-grid">
            <div class="info-label">Registration Date:</div>
            <div class="info-value">{{ voter.date_of_registration|date:"F d, Y" }}</div>
            
            <div class="info-label">Party Affiliation:</div>
            <div class="info-value">{{ voter.party_affiliation }}</div>
            
            <div class="info-label">Precinct Number:</div>
            <div class="info-value">{{ voter.precinct_number }}</div>
            
            <div class="info-label">Voter Score:</div>
            <div class="info-value"><span class="score-badge">{{ voter.voter_score }} / 5</span></div>
        </div>
    </div>
    
    <div class="detail-section">
        <h2>📊 Voting History</h2>
        <div style="display: flex; flex-direction: column; gap: 15px; margin-top: 15px;">
            <div style="display: flex; justify-content: space-between; padding: 12px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>2020 State Election:</strong>
                {% if voter.v20state %}
                    <span class="voted-yes">✓ Voted</span>
                {% else %}
                    <span class="voted-no">✗ Did Not Vote</span>
                {% endif %}
            </div>
            
            <div style="display: flex; justify-content: space-between; padding: 12px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>2021 Town Election:</strong>
                {% if voter.v21town %}
                    <span class="voted-yes">✓ Voted</span>
                {% else %}
                    <span class="voted-no">✗ Did Not Vote</span>
                {% endif %}
            </div>
            
            <div style="display: flex; justify-content: space-between; padding: 12px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>2021 Primary Election:</strong>
                {% if voter.v21primary %}
                    <span class="voted-yes">✓ Voted</span>
                {% else %}
                    <span class="voted-no">✗ Did Not Vote</span>
                {% endif %}
            </div>
            
            <div style="display: flex; justify-content: space-between; padding: 12px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>2022 General Election:</strong>
                {% if voter.v22general %}
                    <span class="voted-yes">✓ Voted</span>
                {% else %}
                    <span class="voted-no">✗ Did Not Vote</span>
                {% endif %}
            </div>
            
            <div style="display: flex; justify-content: space-between; padding: 12px; background-color: #f8f9fa; border-radius: 5px;">
                <strong>2023 Town Election:</strong>
                {% if voter.v23town %}
                    <span class="voted-yes">✓ Voted</span>
                {% else %}
                    <span class="voted-no">✗ Did Not Vote</span>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="nav-links">
    <a href="{% url 'voter_analytics:voters' %}">← Back to Voter List</a>
</div>
{% endblock %}